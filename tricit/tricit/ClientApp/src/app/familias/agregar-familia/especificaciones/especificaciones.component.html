<div class="container-fluid abc">
    <div class="row">
        <div class="col-md-9 d-flex p-3">
            <button mat-icon-button color="primary" (click)="back()" class="mr-1">
                <mat-icon>chevron_left</mat-icon>
            </button>
            <h3 class="mr-3">Especificaciones</h3>
        </div>
        <div class="col-sm-3 col-md-3 col-lg-3 p-3 text-right">
            <button mat-raised-button color="primary" class="ml-auto" (click)="guardarDescripcionFamilia()">GUARDAR DESCRIPCIÓN</button>
        </div>        
    </div>

    <div class="row">
        <div class="col-sm-12 col-md-6 col-lg-6">
            <mat-form-field class="mt-3 w-100">
                <textarea class="mobile" 
                          matInput placeholder="Descripción Español" 
                          cdkAutosizeMinRows="5"
                          cdkAutosizeMaxRows="5" 
                          cdkTextareaAutosize #autosize="cdkTextareaAutosize" 
                          [(ngModel)]="responseFamily.productFamily.productFamilyData.description"></textarea>
            </mat-form-field>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-6">
            <mat-form-field class="mt-3 w-100">
                <textarea class="mobile" 
                          matInput placeholder="Descripción Inglés" 
                          cdkAutosizeMinRows="5"
                          cdkAutosizeMaxRows="5" 
                          cdkTextareaAutosize #autosize="cdkTextareaAutosize" 
                          [(ngModel)]="responseFamily.productFamily.productFamilyData.descriptionEnglish"></textarea>
            </mat-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 mt-3">
            <button *ngIf="sWidth < 1300" class="" mat-icon-button color="primary" (click)="sideespe.toggle();cambiarStyle($event);" ><i
                    class="fas fa-bars"></i></button>
            <button class="" mat-raised-button (click)="anadirTitulo()" color="primary" matTooltip="Nueva especificación">
                NUEVA ESPECIFICACIÓN
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-12 mt-3">
            <mat-sidenav-container class="example-container" autosize="true">
                <mat-sidenav class="sider-espe" #sideespe [opened]="sWidth" [mode]="(sWidth > 1300) ? 'side' : 'over'"
                    [disableClose]="(sWidth > 1300) ? 'true' : 'false'">

                    <label *ngIf="dataSource.data.length < 1" class="node-lbl">No hay especificaciones
                        registradas</label>

                    <mat-tree class="matTreeView" [dataSource]="dataSource" [treeControl]="treeControl">
                        <mat-divider></mat-divider>
                        <mat-tree-node *matTreeNodeDef="let node; when: isParent" matTreeNodePadding class="font-tree">
                            <label class="node-lbl" matTooltip="{{node.name}}"><strong>{{node.name}}</strong></label>
                            <button mat-icon-button>
                                <mat-icon class="mat-icon-rtl-mirror" (click)="anadirSubtitulo(node)">add</mat-icon>
                            </button>
                            <button mat-icon-button>
                                <mat-icon class="mat-icon-rtl-mirror" (click)="editarTitulo(node)">edit</mat-icon>
                            </button>
                            <button mat-icon-button>
                                <mat-icon class="mat-icon-rtl-mirror" (click)="eliminarTitulo(node, 1)">delete</mat-icon>
                            </button>
                        </mat-tree-node>

                        <mat-tree-node class="font-tree childNode" *matTreeNodeDef="let node" matTreeNodePadding>
                            <label class="node-lbl" matTooltip="{{node.name}}">{{node.name}}</label>
                            <button mat-icon-button>
                                <mat-icon class="mat-icon-rtl-mirror" (click)="editarSubtitulo(node)">edit</mat-icon>
                            </button>
                            <button mat-icon-button>
                                <mat-icon class="mat-icon-rtl-mirror" (click)="eliminarSubtitulo(node)">delete
                                </mat-icon>
                            </button>
                        </mat-tree-node>
                    </mat-tree>
                </mat-sidenav>
                <mat-sidenav-content class="drawer-container">
                    <div class="esp-content">
                        <div class="sec-form">
                            <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-6">
                                    <mat-form-field class="w-100" [attr.hidden]="banderaTitulo ? null : true">
                                        <textarea matInput placeholder="Título Español" cdkAutosizeMinRows="7"
                                            cdkAutosizeMaxRows="7" cdkTextareaAutosize [(ngModel)]="tituloEspanol"
                                            #autosize="cdkTextareaAutosize" class="mobile"></textarea>
                                    </mat-form-field>
                                    <mat-form-field class="w-100" [attr.hidden]="banderaSubtitulo ? null : true">
                                        <textarea matInput placeholder="Subtítulo Español" cdkAutosizeMinRows="7"
                                            cdkAutosizeMaxRows="7" cdkTextareaAutosize [(ngModel)]="subtituloEspanol"
                                            #autosize="cdkTextareaAutosize" class="mobile"></textarea>
                                    </mat-form-field>
                                    <mat-form-field class="w-100" [attr.hidden]="banderaSubtitulo ? null : true">
                                        <textarea class="mobile" matInput placeholder="Información Español"
                                            cdkAutosizeMinRows="7" cdkAutosizeMaxRows="7" cdkTextareaAutosize
                                            [(ngModel)]="informacionEspanol" #autosize="cdkTextareaAutosize"></textarea>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-6">
                                    <mat-form-field class="w-100" [attr.hidden]="banderaTitulo ? null : true">
                                        <textarea matInput placeholder="Título Inglés" cdkAutosizeMinRows="7"
                                            cdkAutosizeMaxRows="7" cdkTextareaAutosize [(ngModel)]="tituloIngles"
                                            #autosize="cdkTextareaAutosize" class="mobile"></textarea>
                                    </mat-form-field>
                                    <mat-form-field class="w-100" [attr.hidden]="banderaSubtitulo ? null : true">
                                        <textarea matInput placeholder="Subtítulo Inglés" cdkAutosizeMinRows="7"
                                            cdkAutosizeMaxRows="7" cdkTextareaAutosize [(ngModel)]="subtituloIngles"
                                            #autosize="cdkTextareaAutosize" class="mobile"></textarea>
                                    </mat-form-field>
                                    <mat-form-field class="w-100" [hidden]="!banderaSubtitulo">
                                        <textarea class="mobile" matInput placeholder="Información Inglés"
                                            cdkAutosizeMinRows="7" cdkAutosizeMaxRows="7" cdkTextareaAutosize
                                            [(ngModel)]="informacionIngles" #autosize="cdkTextareaAutosize"></textarea>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 col-lg-6 offset-lg-3">
                                    <div class="sec-imagen" [attr.hidden]="banderaSubtitulo ? null : true">
                                        <img class="esp-img" [attr.src]="ImagenPrevistaEspecificacion == '' ? null: ImagenPrevistaEspecificacion" *ngIf="ImagenPrevistaEspecificacion" />
                                        <div class="product-image-default" *ngIf="ImagenPrevistaEspecificacion.length === 0 ">
                                            <img src="../../../../assets/img/IconoImagen.png" />
                                        </div>
                                        <br />
                                        <div class="actions-buttons">
                                            <button mat-button color="primary" (click)="fileInputEsp.click()">AGREGAR IMAGEN</button>
                                            <button mat-button color="primary" (click)="eliminarImagen()">ELIMINAR IMAGEN</button>
                                            <input hidden type="file" #fileInputEsp (change)="ImagenEspecificacion(fileInputEsp.files)" />
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 d-flex">

                                    <button class="ml-auto" (click)="registrar()" mat-raised-button
                                        color="primary">REGISTRAR</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </mat-sidenav-content>
            </mat-sidenav-container>
        </div>
    </div>
</div>